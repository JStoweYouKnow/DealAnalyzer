<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Deal Analyzer - Production Deployment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                borderRadius: {
                    lg: "var(--radius)",
                    md: "calc(var(--radius) - 2px)",
                    sm: "calc(var(--radius) - 4px)",
                },
                colors: {
                    background: "var(--background)",
                    foreground: "var(--foreground)",
                    card: {
                        DEFAULT: "var(--card)",
                        foreground: "var(--card-foreground)",
                    },
                    popover: {
                        DEFAULT: "var(--popover)",
                        foreground: "var(--popover-foreground)",
                    },
                    primary: {
                        DEFAULT: "var(--primary)",
                        foreground: "var(--primary-foreground)",
                    },
                    secondary: {
                        DEFAULT: "var(--secondary)",
                        foreground: "var(--secondary-foreground)",
                    },
                    muted: {
                        DEFAULT: "var(--muted)",
                        foreground: "var(--muted-foreground)",
                    },
                    accent: {
                        DEFAULT: "var(--accent)",
                        foreground: "var(--accent-foreground)",
                    },
                    destructive: {
                        DEFAULT: "var(--destructive)",
                        foreground: "var(--destructive-foreground)",
                    },
                    border: "var(--border)",
                    input: "var(--input)",
                    ring: "var(--ring)",
                    chart: {
                        "1": "var(--chart-1)",
                        "2": "var(--chart-2)",
                        "3": "var(--chart-3)",
                        "4": "var(--chart-4)",
                        "5": "var(--chart-5)",
                    }
                },
                fontFamily: {
                    sans: ["Inter", "system-ui", "sans-serif"],
                }
            },
        }
    };
    </script>
    <style>
        :root {
            --background: hsl(210 40% 98%);
            --foreground: hsl(222.2 84% 4.9%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(222.2 84% 4.9%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(222.2 84% 4.9%);
            --primary: hsl(214 84% 56%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(222.2 84% 4.9%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215.4 16.3% 46.9%);
            --accent: hsl(210 40% 96%);
            --accent-foreground: hsl(222.2 84% 4.9%);
            --destructive: hsl(0 84.2% 60.2%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(214.3 31.8% 91.4%);
            --input: hsl(214.3 31.8% 91.4%);
            --ring: hsl(214 84% 56%);
            --radius: 8px;
            --chart-1: hsl(12 76% 61%);
            --chart-2: hsl(173 58% 39%);
            --chart-3: hsl(197 37% 24%);
            --chart-4: hsl(43 74% 66%);
            --chart-5: hsl(27 87% 67%);
        }

        .dark {
            --background: hsl(222.2 84% 4.9%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(222.2 84% 4.9%);
            --card-foreground: hsl(210 40% 98%);
            --popover: hsl(222.2 84% 4.9%);
            --popover-foreground: hsl(210 40% 98%);
            --primary: hsl(214 84% 56%);
            --primary-foreground: hsl(222.2 84% 4.9%);
            --secondary: hsl(217.2 32.6% 17.5%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(217.2 32.6% 17.5%);
            --muted-foreground: hsl(215 20.2% 65.1%);
            --accent: hsl(217.2 32.6% 17.5%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 62.8% 30.6%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(217.2 32.6% 17.5%);
            --input: hsl(217.2 32.6% 17.5%);
            --ring: hsl(214 84% 56%);
        }

        * {
            border-color: hsl(var(--border));
        }

        body {
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
            font-family: "Inter", system-ui, sans-serif;
        }
        
        .deployment-badge {
            background: linear-gradient(135deg, #10b981, #059669);
            animation: pulse 2s infinite;
        }
        
        .status-indicator {
            position: relative;
        }
        
        .status-indicator::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: blink 1.5s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        
        .analysis-card {
            transition: all 0.3s ease;
            border: 1px solid hsl(var(--border));
        }
        
        .analysis-card:hover {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transform: translateY(-2px);
        }
        
        .metric-badge {
            transition: all 0.2s ease;
        }
        
        .metric-badge:hover {
            transform: scale(1.05);
        }
        
        .loading-spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid hsl(var(--primary));
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .gradient-text {
            background: linear-gradient(135deg, hsl(var(--primary)), #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .api-status {
            background: linear-gradient(45deg, #ecfdf5, #f0fdf4);
            border-left: 4px solid #10b981;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="min-h-screen bg-background text-foreground">
    <!-- @COMPONENT: Header [deployment status, navigation] -->
    <header class="bg-card border-b border-border sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-card/90">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                            <i class="fas fa-home text-primary-foreground text-sm"></i>
                        </div>
                        <h1 class="text-xl font-bold gradient-text">Real Estate Deal Analyzer</h1>
                    </div>
                    <!-- Deployment Status Indicator -->
                    <div class="deployment-badge px-3 py-1 rounded-full text-white text-xs font-medium flex items-center space-x-2">
                        <div class="status-indicator w-2 h-2"></div>
                        <span>LIVE ON REPLIT</span>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- API Status -->
                    <div class="api-status px-3 py-1 rounded-md text-xs font-medium text-green-800 flex items-center space-x-2">
                        <i class="fas fa-server text-green-600"></i>
                        <span>API Connected</span>
                    </div>
                    
                    <!-- Navigation -->
                    <nav class="hidden md:flex space-x-6">
                        <a href="#analyzer" class="text-muted-foreground hover:text-primary transition-colors font-medium">
                            <i class="fas fa-calculator mr-2"></i>Analyzer
                        </a>
                        <a href="#criteria" class="text-muted-foreground hover:text-primary transition-colors font-medium">
                            <i class="fas fa-cog mr-2"></i>Criteria
                        </a>
                        <a href="#reports" class="text-muted-foreground hover:text-primary transition-colors font-medium">
                            <i class="fas fa-chart-line mr-2"></i>Reports
                        </a>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: Header -->

    <!-- @COMPONENT: MainAnalyzer [email input, analysis display] -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero Section -->
        <div class="text-center mb-8">
            <h2 class="text-3xl font-bold text-foreground mb-2">Investment Property Analysis</h2>
            <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
                Paste your real estate listing email below to instantly analyze investment potential against your buy box criteria
            </p>
        </div>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 xl:grid-cols-5 gap-8">
            <!-- Left Panel - Email Input -->
            <div class="xl:col-span-2">
                <div class="bg-card rounded-lg border border-border shadow-sm">
                    <div class="p-6 border-b border-border">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center">
                                <i class="fas fa-envelope text-primary"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-card-foreground">Email Content</h3>
                                <p class="text-sm text-muted-foreground">Paste your listing alert email content</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <textarea 
                            class="w-full h-80 p-4 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none"
                            placeholder="Paste your real estate email content here...

Example format:
**Property Address:** 123 Main St, Anytown, CA 90210
**Property Type:** Single Family Home
**Purchase Price:** $250,000
**Estimated Monthly Rent:** $2,500
**Bedrooms:** 3
**Bathrooms:** 2.5
**Square Footage:** 1500 sqft
**Year Built:** 1985
**Description:** Beautiful property description...
**Listing URL:** https://example.com/listing"
                            data-mock="true"
                            id="emailContent"
                        ></textarea>
                        
                        <div class="mt-4 flex items-center justify-between">
                            <div class="text-xs text-muted-foreground">
                                <i class="fas fa-info-circle mr-1"></i>
                                Supports standard MLS email formats
                            </div>
                            <button 
                                class="bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-2 rounded-md font-medium transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"
                                onclick="analyzeProperty()"
                                id="analyzeBtn"
                            >
                                <i class="fas fa-chart-line"></i>
                                <span>Analyze Property</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="mt-6 grid grid-cols-2 gap-4">
                    <button class="bg-secondary hover:bg-secondary/80 text-secondary-foreground p-4 rounded-lg border border-border transition-colors text-left">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-file-upload text-primary"></i>
                            <div>
                                <div class="font-medium">Load Example</div>
                                <div class="text-xs text-muted-foreground">Try sample data</div>
                            </div>
                        </div>
                    </button>
                    
                    <button class="bg-secondary hover:bg-secondary/80 text-secondary-foreground p-4 rounded-lg border border-border transition-colors text-left">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-history text-primary"></i>
                            <div>
                                <div class="font-medium">View History</div>
                                <div class="text-xs text-muted-foreground">Past analyses</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Analysis Results -->
            <div class="xl:col-span-3">
                <!-- Loading State -->
                <div id="loadingState" class="hidden">
                    <div class="bg-card rounded-lg border border-border shadow-sm p-8 text-center">
                        <div class="loading-spinner mx-auto mb-4"></div>
                        <h3 class="text-lg font-semibold mb-2">Analyzing Property...</h3>
                        <p class="text-muted-foreground">Parsing email content and calculating investment metrics</p>
                    </div>
                </div>

                <!-- Analysis Results -->
                <div id="analysisResults" class="space-y-6">
                    <!-- Property Overview Card -->
                    <div class="analysis-card bg-card rounded-lg border shadow-sm">
                        <div class="p-6 border-b border-border">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-home text-primary"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-card-foreground">Property Analysis</h3>
                                        <p class="text-sm text-muted-foreground" data-bind="property.address">123 Main St, Anytown, CA 90210</p>
                                    </div>
                                </div>
                                
                                <div class="metric-badge bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-2">
                                    <i class="fas fa-check-circle"></i>
                                    <span data-bind="analysis.meets_criteria">MEETS CRITERIA</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <!-- Property Details -->
                                <div class="space-y-4">
                                    <h4 class="font-semibold text-card-foreground mb-3 flex items-center">
                                        <i class="fas fa-info-circle text-primary mr-2"></i>
                                        Property Details
                                    </h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Type:</span>
                                            <span class="font-medium" data-bind="property.property_type">Single Family</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Price:</span>
                                            <span class="font-medium text-primary" data-bind="property.purchase_price">$250,000</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Monthly Rent:</span>
                                            <span class="font-medium text-green-600" data-bind="property.monthly_rent">$2,500</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Beds/Baths:</span>
                                            <span class="font-medium" data-bind="property.bedrooms_bathrooms">3/2.5</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Square Feet:</span>
                                            <span class="font-medium" data-bind="property.square_footage">1,500</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Year Built:</span>
                                            <span class="font-medium" data-bind="property.year_built">1985</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Financial Summary -->
                                <div class="space-y-4">
                                    <h4 class="font-semibold text-card-foreground mb-3 flex items-center">
                                        <i class="fas fa-dollar-sign text-green-600 mr-2"></i>
                                        Financial Summary
                                    </h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Down Payment:</span>
                                            <span class="font-medium" data-bind="analysis.calculated_downpayment">$56,250</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Closing Costs:</span>
                                            <span class="font-medium" data-bind="analysis.calculated_closing_costs">$15,000</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Initial Costs:</span>
                                            <span class="font-medium" data-bind="analysis.calculated_initial_fixed_costs">$2,500</span>
                                        </div>
                                        <div class="flex justify-between border-t border-border pt-2">
                                            <span class="text-muted-foreground font-medium">Total Cash:</span>
                                            <span class="font-bold text-primary" data-bind="analysis.total_cash_needed">$73,750</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Monthly Cash Flow:</span>
                                            <span class="font-medium text-green-600" data-bind="analysis.cash_flow">$360.98</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-muted-foreground">Maintenance Reserve:</span>
                                            <span class="font-medium" data-bind="analysis.estimated_maintenance_reserve">$125/mo</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Investment Metrics -->
                                <div class="space-y-4">
                                    <h4 class="font-semibold text-card-foreground mb-3 flex items-center">
                                        <i class="fas fa-chart-line text-blue-600 mr-2"></i>
                                        Investment Metrics
                                    </h4>
                                    <div class="space-y-3">
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-muted-foreground">1% Rule</span>
                                            <div class="metric-badge bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium flex items-center space-x-1">
                                                <i class="fas fa-check"></i>
                                                <span>PASS</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-muted-foreground">Cash Flow</span>
                                            <div class="metric-badge bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium flex items-center space-x-1">
                                                <i class="fas fa-check"></i>
                                                <span>POSITIVE</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-muted-foreground">COC Return</span>
                                            <div class="flex items-center space-x-2">
                                                <span class="text-sm font-medium" data-bind="analysis.coc_return">5.87%</span>
                                                <div class="metric-badge bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium">MINIMUM</div>
                                            </div>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm text-muted-foreground">Cap Rate</span>
                                            <div class="flex items-center space-x-2">
                                                <span class="text-sm font-medium" data-bind="analysis.cap_rate">7.92%</span>
                                                <div class="metric-badge bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium">MINIMUM</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Breakdown Card -->
                    <div class="analysis-card bg-card rounded-lg border shadow-sm">
                        <div class="p-6 border-b border-border">
                            <h3 class="text-lg font-semibold text-card-foreground flex items-center">
                                <i class="fas fa-calculator text-primary mr-3"></i>
                                Financial Breakdown
                            </h3>
                        </div>
                        
                        <div class="p-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <!-- Monthly Income -->
                                <div class="space-y-4">
                                    <h4 class="font-semibold text-green-600 flex items-center">
                                        <i class="fas fa-plus-circle mr-2"></i>
                                        Monthly Income
                                    </h4>
                                    <div class="bg-green-50 rounded-lg p-4 space-y-2">
                                        <div class="flex justify-between text-sm">
                                            <span>Gross Rental Income</span>
                                            <span class="font-medium">$2,500.00</span>
                                        </div>
                                        <div class="border-t border-green-200 pt-2">
                                            <div class="flex justify-between font-medium">
                                                <span>Total Income</span>
                                                <span class="text-green-600">$2,500.00</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Monthly Expenses -->
                                <div class="space-y-4">
                                    <h4 class="font-semibold text-red-600 flex items-center">
                                        <i class="fas fa-minus-circle mr-2"></i>
                                        Monthly Expenses
                                    </h4>
                                    <div class="bg-red-50 rounded-lg p-4 space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span>Mortgage Payment (P&I)</span>
                                            <span>$1,663.26</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Property Tax</span>
                                            <span>$250.00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Insurance</span>
                                            <span>$100.00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Vacancy (5%)</span>
                                            <span>$125.00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Maintenance Reserve</span>
                                            <span>$125.00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Property Management</span>
                                            <span>$250.00</span>
                                        </div>
                                        <div class="border-t border-red-200 pt-2">
                                            <div class="flex justify-between font-medium">
                                                <span>Total Expenses</span>
                                                <span class="text-red-600">$2,513.26</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Net Cash Flow -->
                            <div class="mt-6 bg-primary/5 rounded-lg p-4 border-l-4 border-primary">
                                <div class="flex justify-between items-center">
                                    <span class="font-semibold text-primary">Net Monthly Cash Flow</span>
                                    <span class="text-xl font-bold text-primary" data-bind="analysis.cash_flow">$360.98</span>
                                </div>
                                <p class="text-sm text-muted-foreground mt-1">Monthly income after all expenses</p>
                            </div>
                        </div>
                    </div>

                    <!-- Investment Criteria Assessment -->
                    <div class="analysis-card bg-card rounded-lg border shadow-sm">
                        <div class="p-6 border-b border-border">
                            <h3 class="text-lg font-semibold text-card-foreground flex items-center">
                                <i class="fas fa-clipboard-check text-primary mr-3"></i>
                                Buy Box Criteria Assessment
                            </h3>
                        </div>
                        
                        <div class="p-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- Passing Criteria -->
                                <div class="space-y-4">
                                    <h4 class="font-semibold text-green-600 flex items-center mb-4">
                                        <i class="fas fa-check-circle mr-2"></i>
                                        Passing Criteria
                                    </h4>
                                    <div class="space-y-3">
                                        <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                            <span class="text-sm font-medium">Property Type Match</span>
                                            <div class="metric-badge bg-green-100 text-green-800 px-2 py-1 rounded text-xs">✓ Single Family</div>
                                        </div>
                                        <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                            <span class="text-sm font-medium">Location Requirement</span>
                                            <div class="metric-badge bg-green-100 text-green-800 px-2 py-1 rounded text-xs">✓ California</div>
                                        </div>
                                        <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                            <span class="text-sm font-medium">Price Under Max</span>
                                            <div class="metric-badge bg-green-100 text-green-800 px-2 py-1 rounded text-xs">✓ $250K < $300K</div>
                                        </div>
                                        <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                            <span class="text-sm font-medium">1% Rule</span>
                                            <div class="metric-badge bg-green-100 text-green-800 px-2 py-1 rounded text-xs">✓ 1.00%</div>
                                        </div>
                                        <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                                            <span class="text-sm font-medium">Positive Cash Flow</span>
                                            <div class="metric-badge bg-green-100 text-green-800 px-2 py-1 rounded text-xs">✓ $360.98/mo</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Areas for Improvement -->
                                <div class="space-y-4">
                                    <h4 class="font-semibold text-yellow-600 flex items-center mb-4">
                                        <i class="fas fa-exclamation-triangle mr-2"></i>
                                        Areas for Improvement
                                    </h4>
                                    <div class="space-y-3">
                                        <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg">
                                            <span class="text-sm font-medium">COC Return</span>
                                            <div class="metric-badge bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">5.87% (Min: 5-7%)</div>
                                        </div>
                                        <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg">
                                            <span class="text-sm font-medium">Cap Rate</span>
                                            <div class="metric-badge bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">7.92% (Min: 4%)</div>
                                        </div>
                                        <div class="p-3 bg-blue-50 rounded-lg">
                                            <p class="text-sm text-blue-800">
                                                <i class="fas fa-lightbulb mr-2"></i>
                                                <strong>Recommendation:</strong> Property meets minimum requirements but doesn't reach benchmark targets. Consider negotiating price down to improve returns.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- API Integration Status -->
        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-card rounded-lg border border-border p-6 text-center">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-server text-green-600 text-xl"></i>
                </div>
                <h3 class="font-semibold mb-2">Backend API</h3>
                <p class="text-sm text-muted-foreground mb-3">Express.js server running on Replit</p>
                <div class="metric-badge bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs">Connected</div>
            </div>

            <div class="bg-card rounded-lg border border-border p-6 text-center">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                    <i class="fab fa-python text-blue-600 text-xl"></i>
                </div>
                <h3 class="font-semibold mb-2">Python Analysis</h3>
                <p class="text-sm text-muted-foreground mb-3">Email parsing & financial calculations</p>
                <div class="metric-badge bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs">Active</div>
            </div>

            <div class="bg-card rounded-lg border border-border p-6 text-center">
                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                    <i class="fab fa-react text-purple-600 text-xl"></i>
                </div>
                <h3 class="font-semibold mb-2">React Frontend</h3>
                <p class="text-sm text-muted-foreground mb-3">Built & served statically</p>
                <div class="metric-badge bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs">Deployed</div>
            </div>
        </div>
    </main>
    <!-- @END_COMPONENT: MainAnalyzer -->

    <!-- @COMPONENT: Footer [deployment info, links] -->
    <footer class="bg-card border-t border-border mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="space-y-4">
                    <h4 class="font-semibold text-card-foreground">Deployment Info</h4>
                    <div class="space-y-2 text-sm text-muted-foreground">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-cloud text-primary"></i>
                            <span>Hosted on Replit</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-code text-primary"></i>
                            <span>React + Express.js</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-database text-primary"></i>
                            <span>Python Analysis Engine</span>
                        </div>
                    </div>
                </div>

                <div class="space-y-4">
                    <h4 class="font-semibold text-card-foreground">Features</h4>
                    <div class="space-y-2 text-sm text-muted-foreground">
                        <div>Email Parsing</div>
                        <div>Financial Analysis</div>
                        <div>Criteria Evaluation</div>
                        <div>Investment Metrics</div>
                    </div>
                </div>

                <div class="space-y-4">
                    <h4 class="font-semibold text-card-foreground">API Endpoints</h4>
                    <div class="space-y-2 text-sm text-muted-foreground">
                        <div><code>/api/analyze</code></div>
                        <div><code>/api/criteria</code></div>
                        <div><code>/api/history</code></div>
                        <div><code>/api/health</code></div>
                    </div>
                </div>

                <div class="space-y-4">
                    <h4 class="font-semibold text-card-foreground">Resources</h4>
                    <div class="space-y-2 text-sm">
                        <a href="#" class="text-primary hover:text-primary/80 transition-colors flex items-center space-x-2">
                            <i class="fas fa-book"></i>
                            <span>User Guide</span>
                        </a>
                        <a href="#" class="text-primary hover:text-primary/80 transition-colors flex items-center space-x-2">
                            <i class="fas fa-cog"></i>
                            <span>API Documentation</span>
                        </a>
                        <a href="#" class="text-primary hover:text-primary/80 transition-colors flex items-center space-x-2">
                            <i class="fas fa-github"></i>
                            <span>Source Code</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-border pt-6 mt-6 text-center text-sm text-muted-foreground">
                <p>&copy; 2024 Real Estate Deal Analyzer. Production deployment on Replit.</p>
            </div>
        </div>
    </footer>
    <!-- @END_COMPONENT: Footer -->

    <script>
        // TODO: Implement actual API integration with backend
        // TODO: Connect to Python analysis modules via Express.js endpoints
        // TODO: Implement proper form validation and error handling
        // TODO: Add real-time analysis status updates

        (() => {
            function analyzeProperty() {
                const emailContent = document.getElementById('emailContent').value;
                const analyzeBtn = document.getElementById('analyzeBtn');
                const loadingState = document.getElementById('loadingState');
                const analysisResults = document.getElementById('analysisResults');
                
                if (!emailContent.trim()) {
                    alert('Please paste email content first');
                    return;
                }
                
                // Show loading state
                analyzeBtn.disabled = true;
                analyzeBtn.innerHTML = '<div class="loading-spinner mr-2"></div>Analyzing...';
                loadingState.classList.remove('hidden');
                analysisResults.style.opacity = '0.5';
                
                // Simulate API call to backend
                // In production, this would call: POST /api/analyze
                setTimeout(() => {
                    // Hide loading state
                    loadingState.classList.add('hidden');
                    analysisResults.style.opacity = '1';
                    analyzeBtn.disabled = false;
                    analyzeBtn.innerHTML = '<i class="fas fa-chart-line"></i><span>Analyze Property</span>';
                    
                    // Show success message
                    showNotification('Analysis complete! Property meets investment criteria.', 'success');
                }, 2000);
            }
            
            function showNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all transform translate-x-full opacity-0 ${
                    type === 'success' ? 'bg-green-100 text-green-800 border border-green-200' : 
                    type === 'error' ? 'bg-red-100 text-red-800 border border-red-200' : 
                    'bg-blue-100 text-blue-800 border border-blue-200'
                }`;
                notification.innerHTML = `
                    <div class="flex items-center space-x-2">
                        <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
                        <span>${message}</span>
                        <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-current opacity-70 hover:opacity-100">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                document.body.appendChild(notification);
                
                // Animate in
                setTimeout(() => {
                    notification.classList.remove('translate-x-full', 'opacity-0');
                }, 100);
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    notification.classList.add('translate-x-full', 'opacity-0');
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            }
            
            // Make functions globally available
            window.analyzeProperty = analyzeProperty;
            window.showNotification = showNotification;
            
            // Initialize with example data
            document.addEventListener('DOMContentLoaded', () => {
                const exampleContent = `Subject: New Listing Alert: 123 Main St, Anytown, CA

Dear Investor,

We have a new listing that might interest you:

**Property Address:** 123 Main St, Anytown, CA 90210
**Property Type:** Single Family Home
**Purchase Price:** $250,000
**Estimated Monthly Rent:** $2,500
**Bedrooms:** 3
**Bathrooms:** 2.5
**Square Footage:** 1500 sqft
**Year Built:** 1985

**Description:**
This charming 3-bedroom, 2.5-bathroom single-family home is located in a desirable neighborhood in Anytown, CA. It features a spacious living area, a modern kitchen, and a large backyard. Perfect for a rental property.

**Listing URL:** https://example.com/listing/123mainst

Contact us for more details!

Sincerely,
Your Real Estate Team`;
                
                // Pre-fill with example on page load for demo
                // document.getElementById('emailContent').value = exampleContent;
            });
        })();
    </script>
</body>
</html>